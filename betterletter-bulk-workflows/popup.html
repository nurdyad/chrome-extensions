<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Bulk Add Workflows</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 12px; width: 360px; }
      textarea { width: 100%; height: 220px; resize: vertical; padding: 8px; box-sizing: border-box; }
      button { width: 100%; padding: 10px; margin-top: 10px; font-weight: 600; cursor: pointer; }
      .hint { font-size: 12px; color: #444; margin-top: 8px; line-height: 1.35; }
      .status { font-size: 12px; margin-top: 10px; color: #111; white-space: pre-wrap; }
      .row { display: flex; gap: 8px; margin-top: 10px; }
      .row button { width: 50%; margin-top: 0; }
    </style>
  </head>
  <body>
    <h3 style="margin: 0 0 8px;">Bulk Add Workflow Groups</h3>

    <textarea id="names" placeholder="Paste names here (one per line).&#10;Airtable paste also works (we take the first column)."></textarea>

    <div style="margin-top:10px">
        <label>
            <input type="checkbox" id="skipDuplicates" checked />
            Skip existing workflow names
        </label>
        <br />
        <label>
            <input type="checkbox" id="titleCase" />
            Convert names to Title Case
        </label>
    </div>

    <div class="row">
      <button id="submit">Submit</button>
      <button id="test">Test Parse</button>
    </div>

    <div class="hint">
      Use on a BetterLetter practice page under <b>Task Recipients (Workflows)</b>.<br/>
      Format: one name per line. If pasted from Airtable with tabs, we use the first cell.
    </div>

    <div class="status" id="status"></div>
    <div style="margin-top: 10px;">
        <div
            id="progressContainer"
            style="width:100%; height:10px; background:#e5e7eb; border-radius:6px; overflow:hidden; display:none;"
        >
            <div
            id="progressBar"
            style="height:100%; width:0%; background:#16a34a; transition: width 0.2s;"
            ></div>
        </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
